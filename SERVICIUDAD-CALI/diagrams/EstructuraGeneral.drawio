<mxfile host="Electron" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/28.1.2 Chrome/138.0.7204.243 Electron/37.4.0 Safari/537.36" version="28.1.2">
  <diagram name="Arquitectura ServiCiudad" id="gdCoqdJKVOVSs27q5AHG">
    <mxGraphModel dx="1603" dy="889" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1654" pageHeight="2336" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="1wSeVf0Dn_DtPmF9P4zC-1" value="ARQUITECTURA SERVICIUDAD CALI - SISTEMA DE CONSULTA UNIFICADA" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=18;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="270" y="20" width="630" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1wSeVf0Dn_DtPmF9P4zC-2" value="CAPA DE PRESENTACION" style="swimlane;startSize=30;fillColor=#dae8fc;strokeColor=#6c8ebf;fontStyle=1;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="40" y="70" width="1080" height="200" as="geometry" />
        </mxCell>
        <mxCell id="1wSeVf0Dn_DtPmF9P4zC-3" value="Cliente HTTP/Mobile App&#xa;&#xa;Peticiones REST&#xa;JSON Request/Response" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;" vertex="1" parent="1wSeVf0Dn_DtPmF9P4zC-2">
          <mxGeometry x="20" y="50" width="180" height="100" as="geometry" />
        </mxCell>
        <mxCell id="1wSeVf0Dn_DtPmF9P4zC-4" value="FacturaAcueductoController&#xa;&#xa;@RestController&#xa;12 endpoints REST&#xa;/api/facturas/*" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1wSeVf0Dn_DtPmF9P4zC-2">
          <mxGeometry x="240" y="50" width="200" height="100" as="geometry" />
        </mxCell>
        <mxCell id="1wSeVf0Dn_DtPmF9P4zC-5" value="ConsumoEnergiaController&#xa;&#xa;@RestController&#xa;6 endpoints REST&#xa;/api/consumos-energia/*" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1wSeVf0Dn_DtPmF9P4zC-2">
          <mxGeometry x="470" y="50" width="200" height="100" as="geometry" />
        </mxCell>
        <mxCell id="1wSeVf0Dn_DtPmF9P4zC-6" value="GlobalExceptionHandler&#xa;&#xa;@ControllerAdvice&#xa;6 exception handlers&#xa;HTTP 4xx/5xx" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1wSeVf0Dn_DtPmF9P4zC-2">
          <mxGeometry x="700" y="50" width="180" height="100" as="geometry" />
        </mxCell>
        <mxCell id="1wSeVf0Dn_DtPmF9P4zC-7" value="DTOs&#xa;&#xa;Request/Response/General&#xa;Builder Pattern&#xa;Bean Validation" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1wSeVf0Dn_DtPmF9P4zC-2">
          <mxGeometry x="900" y="50" width="160" height="100" as="geometry" />
        </mxCell>
        <mxCell id="1wSeVf0Dn_DtPmF9P4zC-8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1wSeVf0Dn_DtPmF9P4zC-2" source="1wSeVf0Dn_DtPmF9P4zC-3" target="1wSeVf0Dn_DtPmF9P4zC-4">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1wSeVf0Dn_DtPmF9P4zC-9" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1wSeVf0Dn_DtPmF9P4zC-2" source="1wSeVf0Dn_DtPmF9P4zC-3" target="1wSeVf0Dn_DtPmF9P4zC-5">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="110" y="170" />
              <mxPoint x="570" y="170" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="1wSeVf0Dn_DtPmF9P4zC-10" value="CAPA DE NEGOCIO (Service Layer)" style="swimlane;startSize=30;fillColor=#d5e8d4;strokeColor=#82b366;fontStyle=1;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="40" y="310" width="1080" height="200" as="geometry" />
        </mxCell>
        <mxCell id="1wSeVf0Dn_DtPmF9P4zC-11" value="FacturaAcueductoService&#xa;&#xa;@Service&#xa;Logica de negocio&#xa;13 metodos&#xa;@Transactional" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1wSeVf0Dn_DtPmF9P4zC-10">
          <mxGeometry x="60" y="50" width="200" height="120" as="geometry" />
        </mxCell>
        <mxCell id="1wSeVf0Dn_DtPmF9P4zC-12" value="DeudaConsolidadaBuilder&#xa;&#xa;@Component&#xa;Builder Pattern&#xa;Construccion fluida DTOs&#xa;10 metodos" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1wSeVf0Dn_DtPmF9P4zC-10">
          <mxGeometry x="290" y="50" width="200" height="120" as="geometry" />
        </mxCell>
        <mxCell id="1wSeVf0Dn_DtPmF9P4zC-13" value="FacturaMapper&#xa;&#xa;@Component&#xa;Entity &lt;-&gt; DTO&#xa;4 metodos transformacion&#xa;Enriquecimiento" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1wSeVf0Dn_DtPmF9P4zC-10">
          <mxGeometry x="520" y="50" width="180" height="120" as="geometry" />
        </mxCell>
        <mxCell id="1wSeVf0Dn_DtPmF9P4zC-14" value="Domain Models&#xa;&#xa;FacturaAcueducto (@Entity)&#xa;ConsumoEnergia (POJO)&#xa;EstadoFactura (Enum)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1wSeVf0Dn_DtPmF9P4zC-10">
          <mxGeometry x="730" y="50" width="180" height="120" as="geometry" />
        </mxCell>
        <mxCell id="1wSeVf0Dn_DtPmF9P4zC-15" value="IoC/DI Pattern&#xa;Constructor Injection&#xa;@RequiredArgsConstructor" style="text;html=1;strokeColor=#6c8ebf;fillColor=#dae8fc;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=10;fontStyle=2;" vertex="1" parent="1wSeVf0Dn_DtPmF9P4zC-10">
          <mxGeometry x="940" y="80" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="1wSeVf0Dn_DtPmF9P4zC-16" value="@Autowired&#xa;Inyeccion Dependencias" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;dashed=1;dashPattern=8 8;" edge="1" parent="1" source="1wSeVf0Dn_DtPmF9P4zC-4" target="1wSeVf0Dn_DtPmF9P4zC-11">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="380" y="260" as="sourcePoint" />
            <mxPoint x="200" y="330" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1wSeVf0Dn_DtPmF9P4zC-17" value="CAPA DE PERSISTENCIA E INTEGRACION" style="swimlane;startSize=30;fillColor=#fff2cc;strokeColor=#d6b656;fontStyle=1;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="40" y="570" width="1080" height="180" as="geometry" />
        </mxCell>
        <mxCell id="1wSeVf0Dn_DtPmF9P4zC-18" value="AdaptadorArchivoEnergia&#xa;&#xa;@Component&#xa;Adapter Pattern&#xa;8 metodos lectura&#xa;Parser COBOL ancho fijo" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1wSeVf0Dn_DtPmF9P4zC-17">
          <mxGeometry x="60" y="50" width="220" height="100" as="geometry" />
        </mxCell>
        <mxCell id="1wSeVf0Dn_DtPmF9P4zC-19" value="FacturaAcueductoRepository&#xa;&#xa;@Repository&#xa;Repository Pattern&#xa;extends JpaRepository&#xa;15 custom queries" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1wSeVf0Dn_DtPmF9P4zC-17">
          <mxGeometry x="375" y="50" width="230" height="100" as="geometry" />
        </mxCell>
        <mxCell id="1wSeVf0Dn_DtPmF9P4zC-20" value="Spring Data JPA&#xa;&#xa;Query Derivation&#xa;Paginacion/Sorting&#xa;Transacciones" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1wSeVf0Dn_DtPmF9P4zC-17">
          <mxGeometry x="650" y="50" width="160" height="100" as="geometry" />
        </mxCell>
        <mxCell id="1wSeVf0Dn_DtPmF9P4zC-21" value="HikariCP&#xa;&#xa;Connection Pooling&#xa;Max: 10 conexiones&#xa;Min Idle: 5" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1wSeVf0Dn_DtPmF9P4zC-17">
          <mxGeometry x="870" y="50" width="160" height="100" as="geometry" />
        </mxCell>
        <mxCell id="1wSeVf0Dn_DtPmF9P4zC-22" value="Invoca" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.25;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="1wSeVf0Dn_DtPmF9P4zC-11" target="1wSeVf0Dn_DtPmF9P4zC-18">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="150" y="480" as="sourcePoint" />
            <mxPoint x="170" y="560" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1wSeVf0Dn_DtPmF9P4zC-23" value="Invoca" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.75;exitY=1;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="1wSeVf0Dn_DtPmF9P4zC-11" target="1wSeVf0Dn_DtPmF9P4zC-19">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="210" y="480" as="sourcePoint" />
            <mxPoint x="465" y="560" as="targetPoint" />
            <Array as="points">
              <mxPoint x="250" y="530" />
              <mxPoint x="370" y="530" />
              <mxPoint x="370" y="670" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="1wSeVf0Dn_DtPmF9P4zC-24" value="CAPA DE DATOS" style="swimlane;startSize=30;fillColor=#f8cecc;strokeColor=#b85450;fontStyle=1;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="40" y="800" width="1080" height="210" as="geometry" />
        </mxCell>
        <mxCell id="1wSeVf0Dn_DtPmF9P4zC-25" value="consumos_energia.txt&#xa;&#xa;Mainframe IBM Z (simulado)&#xa;Formato COBOL 78 chars&#xa;Ancho fijo&#xa;10 registros prueba" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontStyle=1;" vertex="1" parent="1wSeVf0Dn_DtPmF9P4zC-24">
          <mxGeometry x="60" y="50" width="220" height="130" as="geometry" />
        </mxCell>
        <mxCell id="1wSeVf0Dn_DtPmF9P4zC-26" value="PostgreSQL 15&#xa;&#xa;facturas_acueducto (tabla)&#xa;4 indices B-tree&#xa;20 registros prueba&#xa;ACID transactions" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;fillColor=#f8cecc;strokeColor=#b85450;fontStyle=1;" vertex="1" parent="1wSeVf0Dn_DtPmF9P4zC-24">
          <mxGeometry x="400" y="40" width="180" height="140" as="geometry" />
        </mxCell>
        <mxCell id="1wSeVf0Dn_DtPmF9P4zC-27" value="Docker Container&#xa;postgres:15-alpine&#xa;Volume: schema.sql + data.sql" style="text;html=1;strokeColor=#6c8ebf;fillColor=#dae8fc;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=10;" vertex="1" parent="1wSeVf0Dn_DtPmF9P4zC-24">
          <mxGeometry x="640" y="90" width="180" height="50" as="geometry" />
        </mxCell>
        <mxCell id="1wSeVf0Dn_DtPmF9P4zC-28" value="Spring Boot Actuator&#xa;/actuator/health&#xa;/actuator/metrics&#xa;/actuator/prometheus" style="text;html=1;strokeColor=#82b366;fillColor=#d5e8d4;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=10;" vertex="1" parent="1wSeVf0Dn_DtPmF9P4zC-24">
          <mxGeometry x="870" y="90" width="160" height="50" as="geometry" />
        </mxCell>
        <mxCell id="1wSeVf0Dn_DtPmF9P4zC-29" value="Lee archivo&#xa;Files.readAllLines()" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="1wSeVf0Dn_DtPmF9P4zC-18" target="1wSeVf0Dn_DtPmF9P4zC-25">
          <mxGeometry x="-0.0769" relative="1" as="geometry">
            <mxPoint x="170" y="690" as="sourcePoint" />
            <mxPoint x="170" y="770" as="targetPoint" />
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1wSeVf0Dn_DtPmF9P4zC-30" value="JDBC via&#xa;HikariCP" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="1wSeVf0Dn_DtPmF9P4zC-19" target="1wSeVf0Dn_DtPmF9P4zC-26">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="465" y="690" as="sourcePoint" />
            <mxPoint x="490" y="760" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1wSeVf0Dn_DtPmF9P4zC-31" value="PATRONES IMPLEMENTADOS" style="swimlane;startSize=30;fillColor=#e1d5e7;strokeColor=#9673a6;fontStyle=1;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="1160" y="70" width="250" height="350" as="geometry" />
        </mxCell>
        <mxCell id="1wSeVf0Dn_DtPmF9P4zC-32" value="1. ADAPTER PATTERN&#xa;AdaptadorArchivoEnergia&#xa;Lee archivo COBOL legacy" style="text;html=1;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=top;whiteSpace=wrap;rounded=1;fontSize=10;spacing=5;" vertex="1" parent="1wSeVf0Dn_DtPmF9P4zC-31">
          <mxGeometry x="10" y="40" width="230" height="50" as="geometry" />
        </mxCell>
        <mxCell id="1wSeVf0Dn_DtPmF9P4zC-33" value="2. BUILDER PATTERN&#xa;DeudaConsolidadaBuilder&#xa;Construccion fluida DTOs" style="text;html=1;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=top;whiteSpace=wrap;rounded=1;fontSize=10;spacing=5;" vertex="1" parent="1wSeVf0Dn_DtPmF9P4zC-31">
          <mxGeometry x="10" y="100" width="230" height="50" as="geometry" />
        </mxCell>
        <mxCell id="1wSeVf0Dn_DtPmF9P4zC-34" value="3. DTO PATTERN&#xa;Request/Response/General&#xa;Desacoplamiento capas" style="text;html=1;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=top;whiteSpace=wrap;rounded=1;fontSize=10;spacing=5;" vertex="1" parent="1wSeVf0Dn_DtPmF9P4zC-31">
          <mxGeometry x="10" y="160" width="230" height="50" as="geometry" />
        </mxCell>
        <mxCell id="1wSeVf0Dn_DtPmF9P4zC-35" value="4. REPOSITORY PATTERN&#xa;Spring Data JPA&#xa;Query derivation automatica" style="text;html=1;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=top;whiteSpace=wrap;rounded=1;fontSize=10;spacing=5;" vertex="1" parent="1wSeVf0Dn_DtPmF9P4zC-31">
          <mxGeometry x="10" y="220" width="230" height="50" as="geometry" />
        </mxCell>
        <mxCell id="1wSeVf0Dn_DtPmF9P4zC-36" value="5. IoC/DI PATTERN&#xa;Spring Framework&#xa;Constructor injection" style="text;html=1;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=top;whiteSpace=wrap;rounded=1;fontSize=10;spacing=5;" vertex="1" parent="1wSeVf0Dn_DtPmF9P4zC-31">
          <mxGeometry x="10" y="280" width="230" height="50" as="geometry" />
        </mxCell>
        <mxCell id="1wSeVf0Dn_DtPmF9P4zC-37" value="STACK TECNOLOGICO" style="swimlane;startSize=30;fillColor=#dae8fc;strokeColor=#6c8ebf;fontStyle=1;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="1160" y="437" width="250" height="270" as="geometry" />
        </mxCell>
        <mxCell id="1wSeVf0Dn_DtPmF9P4zC-38" value="- Spring Boot 3.2.0&#xa;- Java 17 LTS&#xa;- Maven 3.9.11&#xa;- PostgreSQL 15&#xa;- Hibernate 6.3 (JPA)&#xa;- HikariCP 5.0&#xa;- Docker + Compose&#xa;- OpenAPI 3.0 (SpringDoc)&#xa;- JUnit 5 + Mockito&#xa;- Logback + SLF4J&#xa;- Lombok 1.18&#xa;- Spring Actuator" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Courier New;" vertex="1" parent="1wSeVf0Dn_DtPmF9P4zC-37">
          <mxGeometry x="10" y="40" width="230" height="220" as="geometry" />
        </mxCell>
        <mxCell id="1wSeVf0Dn_DtPmF9P4zC-39" value="METRICAS DE CALIDAD" style="swimlane;startSize=30;fillColor=#d5e8d4;strokeColor=#82b366;fontStyle=1;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="1160" y="727" width="250" height="150" as="geometry" />
        </mxCell>
        <mxCell id="1wSeVf0Dn_DtPmF9P4zC-40" value="- Cobertura: 85% lineas&#xa;- Complejidad: 6.2 promedio&#xa;- P95 response: 1.2s&#xa;- Throughput: 120 RPS&#xa;- Error rate: 0.3%&#xa;- Bugs criticos: 0" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Courier New;" vertex="1" parent="1wSeVf0Dn_DtPmF9P4zC-39">
          <mxGeometry x="10" y="40" width="230" height="100" as="geometry" />
        </mxCell>
        <mxCell id="1wSeVf0Dn_DtPmF9P4zC-41" value="Diagrama generado para: INFORME TECNICO - ServiCiudad Cali&#xa;Universidad Autonoma de Occidente - Ingenieria de Software 2&#xa;Equipo: Eduard Criollo, Felipe Charria, Jhonathan Chicaiza, Emmanuel Mena, Juan Sebastian Castillo&#xa;Octubre 2025" style="text;html=1;strokeColor=#666666;fillColor=#f5f5f5;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=9;fontColor=#333333;" vertex="1" parent="1">
          <mxGeometry x="40" y="1030" width="1370" height="50" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
